{"version":3,"sources":["components/comment.jsx","Auth/index.jsx","components/commentForm.jsx","pages/post.jsx","components/postCard.jsx","pages/posts.js","components/login.jsx","components/register.jsx","components/userAccountMenu.jsx","components/userModal.jsx","App.js","index.js"],"names":["CommentCard","comment","style","marginTop","display","src","user","image","paddingRight","name","content","createdAt","AuthContext","React","createContext","setUser","showUserModal","setShowUserModal","token","localStorage","getItem","fetch","headers","response","json","result","data","AuthProvider","children","useState","useEffect","getLoggedInUser","then","notification","info","message","Provider","value","body","JSON","stringify","method","CommentForm","postId","setContent","useContext","placeholder","onChange","e","target","t","ype","onClick","addComment","console","log","setItem","window","location","reload","catch","err","alert","type","id","Post","params","useParams","post","setPost","loading","setLoading","getPost","title","_id","comments","map","PostCard","href","posts","setPosts","getPosts","Login","setFlow","email","setEmail","password","setPassword","login","Register","setName","register","AccountMenu","overlay","items","key","label","removeItem","preventDefault","UserModal","flow","visible","onOk","onCancel","App","className","subTitle","path","element","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.0f1c353d.chunk.js","sourcesContent":["import React from \"react\";\nimport { Avatar, Card } from \"antd\";\n\nexport default function CommentCard({comment}) {\n  return (\n      <Card style={{marginTop: 10}}>\n        <div style={{ display: \"flex\" }}>\n          <Avatar src={comment.user?.image} style={{ paddingRight: 10 }} />\n          <h3>{comment.user?.name}</h3>\n        </div>\n        <h2>{comment.content}</h2>\n        <span>{comment.createdAt}</span>\n      </Card>\n  );\n}\n","import { notification } from 'antd';\nimport React, { useEffect, useState } from 'react';\n\nconst AuthContext = React.createContext({\n    user: null,\n    setUser: () => {},\n    showUserModal: false, \n    setShowUserModal: () => {},\n})\n\nexport default AuthContext;\n\nasync function getLoggedInUser() {\n\n    const token = localStorage.getItem(\"token\")\n\n    if (token) {\n        const response = await fetch(\n          `http://localhost:3001/users/getLoggedIn`, {\n            headers: {\n              'Content-Type': \"application/json\",\n              'token': token\n            },\n          }\n        )\n      \n        const result = await response.json();\n      \n        return result.data;\n    } \n  }\n\nexport function AuthProvider({children}) {\n    const [user, setUser] = React.useState(null)\n    const [showUserModal, setShowUserModal] = useState(false);\n\n    useEffect(() => {\n        getLoggedInUser().then(user => {\n            notification.info({\n                message: \"You are logged in.\"\n            })\n            setUser(user)\n        })\n    }, [])\n\n    \n    return (\n        <AuthContext.Provider value={{\n            user,\n            setUser,\n            showUserModal,\n            setShowUserModal,\n        }}>\n            {children}\n        </AuthContext.Provider>\n    )\n}","import React, { useContext, useState } from \"react\";\nimport { Card, Input, Button, notification } from \"antd\";\nimport AuthContext from \"../Auth\";\n\nasync function addComment(body) {\n  body = JSON.stringify({\n    comment: body,\n  });\n\n  const token = localStorage.getItem(\"token\");\n\n  const response = await fetch(`http://localhost:3001/comments`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"token\": token\n    },\n    body,\n  });\n\n  const data = await response.json();\n\n  return data;\n}\n\nexport default function CommentForm({ postId }) {\n  const [content, setContent] = useState(\"\");\n  const { user, setShowUserModal } = useContext(AuthContext);\n\n  const onAddComment = () => {\n    addComment({ content, postId })\n      .then((data) => {\n        console.log(data);\n        const { token } = data.data;\n\n        localStorage.setItem(\"token\", token);\n\n        window.location.reload();\n        // alert(\"Login successful\")\n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n\n  return (\n    <Card>\n      <h2>Add Comment </h2>\n      {user ? (\n        <div>\n          <Input\n            placeholder=\"Comment\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n          <Button t ype=\"primary\" onClick={onAddComment}>\n            Add Comment\n          </Button>\n        </div>\n      ) : (\n        <Button type=\"link\" onClick={() => setShowUserModal(true)}>\n          Login First\n        </Button>\n      )}\n    </Card>\n  );\n}\n","import { Avatar, Skeleton } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport CommentCard from \"../components/comment\";\nimport CommentForm from \"../components/commentForm\";\n\nasync function getPost(id) {\n  const response = await fetch(\n    `http://localhost:3001/posts/${id}`\n  ).catch((err) => {\n    console.log(err);\n  });\n\n  const data = await response.json();\n\n  return data;\n}\n\nexport default function Post() {\n  const params = useParams();\n\n  const [post, setPost] = useState()\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getPost(params.postId).then(response => {\n      setPost(response.data)\n      setLoading(false)\n    })\n  }, [])\n\n  useEffect\n  return (\n    <div>\n      <h1>Post</h1>\n      {\n        loading ?\n        <Skeleton /> :\n        <div>\n          <h1>{post.title}</h1>\n          <div style={{ display: \"flex\" }}>\n            <Avatar src={post.user.image} style={{ paddingRight: 10 }} />\n            <h3>{post.user.name}</h3>\n          </div>\n          <p>{post.content}</p>\n          \n          <h2>All Comments</h2>\n\n          <CommentForm postId={post._id} />\n          {\n            post.comments.map(comment => {\n              return <CommentCard key={comment._id} comment={comment} />\n            })\n          }\n\n        </div>\n      }\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Avatar, Card } from \"antd\";\n\nexport default function PostCard({post}) {\n  return (\n    <a href={\"/post/\" + post._id}>\n      <Card style={{marginTop: 10}}>\n        <h2>{post.title}</h2>\n        <div style={{ display: \"flex\" }}>\n          <Avatar src={post.user.image} style={{ paddingRight: 10 }} />\n          <h3>{post.user.name}</h3>\n        </div>\n        <span>{post.createdAt}</span>\n      </Card>\n    </a>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport PostCard from \"../components/postCard\";\n\nasync function getPosts() {\n  const response = await fetch(\n    \"http://localhost:3001/posts/all?skip=0&limit=5\"\n  ).catch((err) => {\n    console.log(err);\n  });\n\n  const data = await response.json();\n\n  return data;\n}\n\nexport default function Post() {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    getPosts().then((response) => setPosts(response.data));\n  }, []);\n\n  return (\n    <div>\n      <h1>Posts</h1>\n      {\n        posts.map(post => {\n          return <PostCard key={post._id} post={post} />\n        })\n      }\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Card, Input, Button, notification } from \"antd\";\n\n\nasync function login(body) {\n\n  body = JSON.stringify(body);\n\n  const response = await fetch(\n    `http://localhost:3001/users/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      body,\n    }\n  )\n\n  const data = await response.json();\n\n  return data;\n}\n\nexport default function Login({ setFlow }) {\n  const [email, setEmail] = useState(\"bitop16986@chimpad.com\");\n  const [password, setPassword] = useState(\"password\");\n\n  const onLogin = () => {\n    login({ email, password})\n    .then((data) => {\n      console.log(data)\n      const {token} = data.data\n\n      localStorage.setItem(\"token\", token);\n\n      window.location.reload();\n      // alert(\"Login successful\")\n    })\n    .catch(err => {\n      alert(err.message)\n    })\n  }\n\n  return (\n    <Card>\n      <h2>Login </h2>\n      <Input\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <Input\n        placeholder=\"Password\"\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <Button type=\"primary\" onClick={onLogin}>Login</Button>\n      <Button type=\"link\" onClick={() => setFlow(\"register\")}>\n        Register Instead\n      </Button>\n    </Card>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Card, Input, Button } from \"antd\";\n\n\nasync function register(body) {\n\n  body.image = \"https://cloudflare-ipfs.com/ipfs/Qmd3W5DuhgHirLHGVixi6V76LhCkZUz6pnFt5AJBiyvHye/avatar/495.jpg\"\n\n  body = JSON.stringify({\n    user: body\n  });\n\n  console.log(body);\n  const response = await fetch(\n    `http://localhost:3001/users`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      body,\n    }\n  )\n\n  const data = await response.json();\n\n  return data;\n}\n\n\nexport default function Register({ setFlow }) {\n  const [name, setName] = useState(\"Umakant\");\n  const [email, setEmail] = useState(\"bitop16986@chimpad.com\");\n  const [password, setPassword] = useState(\"password\");\n\n  const onRegister = () => {\n    register({name, email, password})\n    .then(() => {\n      alert(\"Registration successful\")\n    })\n    .catch(err => {\n      alert(err.message)\n    })\n  }\n\n  return (\n    <Card>\n      <h2>Register </h2>\n      <Input\n        placeholder=\"Name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n      <Input\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <Input\n        placeholder=\"Password\"\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <Button type=\"primary\" onClick={onRegister}>Register</Button>\n      <Button type=\"link\" onClick={() => setFlow(\"login\")}>\n        Login Instead\n      </Button>\n    </Card>\n  );\n}\n","import React, { useContext } from 'react';\nimport { Button, Dropdown, Menu, Space, Avatar } from 'antd';\nimport AuthContext from '../Auth';\n\n\nexport default function AccountMenu() {\n    const {user} = useContext(AuthContext)\n\n    return  <Dropdown \n        overlay={<Menu\n                items={[\n                {\n                    key: '1',\n                    label: user.name,\n                },\n                {\n                    key: '2',\n                    label: (\n                        <Button type='link'>\n                            Logout\n                        </Button>\n                    ),\n                    onClick: () => {\n                        localStorage.removeItem(\"token\")\n                        window.location.reload();\n                    }\n                },\n                ]}\n            />}\n        >\n        <a onClick={e => e.preventDefault()}>\n            <Space>\n                <Avatar src={user.image} />\n            </Space>\n        </a>\n    </Dropdown>\n  \n}","import { Avatar, Button, Modal } from \"antd\";\nimport React, { useContext, useState } from \"react\";\nimport AuthContext from \"../Auth\";\nimport Login from \"./login\";\nimport Register from \"./register\";\nimport AccountMenu from \"./userAccountMenu\";\n\nconst UserModal = () => {\n  const {user, showUserModal, setShowUserModal} = useContext(AuthContext)\n  const [flow, setFlow] = useState(\"login\");\n\n  const showModal = () => {\n    setShowUserModal(true);\n  };\n\n  const handleOk = () => {\n    setShowUserModal(false);\n  };\n\n  const handleCancel = () => {\n    setShowUserModal(false);\n  };\n\n  return (\n    <>\n      {user ? <AccountMenu /> : <Button type=\"primary\" onClick={showModal}>\n        Login\n      </Button>}\n      <Modal\n        title=\"Basic Modal\"\n        visible={showUserModal}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        {flow === \"login\" ? (\n          <Login setFlow={setFlow} />\n        ) : (\n          <Register setFlow={setFlow} />\n        )}\n      </Modal>\n    </>\n  );\n};\n\nexport default UserModal;\n","import { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport \"./styles.css\";\nimport \"antd/dist/antd.css\";\nimport Page from \"./pages/post\";\nimport Pages from \"./pages/posts\";\nimport { PageHeader } from \"antd\";\nimport UserModal from \"./components/userModal\";\nimport { AuthProvider } from \"./Auth\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n\n      <AuthProvider>\n        <PageHeader\n          className=\"site-page-header\"\n          title=\"PT-WEB-04\"\n          subTitle={<UserModal />}\n        />\n        <BrowserRouter>\n          <Routes>\n            <Route path=\"post/:postId\" element={<Page />} />\n            <Route path=\"/\" element={<Pages />} />\n          </Routes>\n        </BrowserRouter>\n      </AuthProvider>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}